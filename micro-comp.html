<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../paper-input/paper-input.html">

<dom-module id="micro-comp">


  <template>

    <style>
      /* local DOM styles go here */
      :host {
        display: inline-block;

        paper-dropdown-menu{
        --paper-dropdown-menu: {
          width: 100%;
        };
        }
        paper-listbox{
            width:100%;
        }
        paper-input{
            width:100%;
        }
      }
    </style>

    <!-- local DOM goes here -->
    	                             <!-- TODO MICROCATEGORIA -->
	<paper-dropdown-menu label="Scegli una micro categoria" name="micro">
        <paper-listbox class="dropdown-content" selected="1">
                      <template is="dom-repeat" items="{{data}}" as="item">
                        <paper-item value="[[item._id]]" >[[item.nome]]</paper-item>
                      </template>

        </paper-listbox>
   </paper-dropdown-menu>
   <paper-input label="Descrizione Micro" always-float-label></paper-input>
   <iron-ajax
        auto
        url="https://mhauser.herokuapp.com/micro/getbymacro?idMacro=580ba919730f1806753fc009"
        handle-as="json"
        last-response="{{data}}"></iron-ajax>
  </template>

  <script>
  Polymer({
    is: 'micro-comp',
    properties: {
      idMacro:{
        type:String,
        value:null,
      },
    },
  });
  </script>

</dom-module>
